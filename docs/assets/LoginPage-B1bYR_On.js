import{a as i,c as Y,r as t,j as G,I as J,h as m,T as K,b as Z,aC as ee,w as ae,au as x,g as te,_ as F,L as N,M as T,aD as le,N as f,O as u,Q as re,X as oe,U as z,a3 as ie,a0 as ne,S as V,aE as se,Y as L,P as E,R,V as ue}from"./index-C0odP-TZ.js";import{d as M,Q as D}from"./use-id-C7Qwmil1.js";import{u as ce,c as de,b as ge,Q as me,a as fe}from"./QCard-DDrmVqwx.js";import{Q as j}from"./QPage-CY9D39dB.js";import{Q as ve}from"./QInput-BBeyDeeB.js";import{u as ye}from"./vue-i18n.runtime-B8uWUYbn.js";const Se={ratio:[String,Number]};function he(e,l){return i(()=>{const r=Number(e.ratio||(l!==void 0?l.value:void 0));return isNaN(r)!==!0&&r>0?{paddingBottom:`${100/r}%`}:null})}const _e=1.7778,we=Y({name:"QImg",props:{...Se,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:_e},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:l,emit:r}){const d=t(e.initialRatio),n=he(e,d),c=te(),{registerTimeout:b,removeTimeout:v}=M(),{registerTimeout:p,removeTimeout:C}=M(),I=i(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),S=i(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),s=[t(null),t(I.value)],o=t(0),h=t(!1),_=t(!1),w=i(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),g=i(()=>({width:e.width,height:e.height})),k=i(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),U=i(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function A(){if(C(),e.loadingShowDelay===0){h.value=!0;return}p(()=>{h.value=!0},e.loadingShowDelay)}function q(){C(),h.value=!1}function H({target:a}){x(c)===!1&&(v(),d.value=a.naturalHeight===0?.5:a.naturalWidth/a.naturalHeight,P(a,1))}function P(a,y){y===1e3||x(c)===!0||(a.complete===!0?O(a):b(()=>{P(a,y+1)},50))}function O(a){x(c)!==!0&&(o.value=o.value^1,s[o.value].value=null,q(),a.getAttribute("__qerror")!=="true"&&(_.value=!1),r("load",a.currentSrc||a.src))}function W(a){v(),q(),_.value=!0,s[o.value].value=S.value,s[o.value^1].value=I.value,r("error",a)}function B(a){const y=s[a].value,Q={key:"img_"+a,class:k.value,style:U.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...y};return o.value===a?Object.assign(Q,{class:Q.class+"current",onLoad:H,onError:W}):Q.class+="loaded",m("div",{class:"q-img__container absolute-full",key:"img"+a},m("img",Q))}function X(){return h.value===!1?m("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Z(l[_.value===!0?"error":"default"])):m("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},l.loading!==void 0?l.loading():e.noSpinner===!0?void 0:[m(ee,{color:e.spinnerColor,size:e.spinnerSize})])}{let a=function(){ae(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,y=>{v(),_.value=!1,y===null?(q(),s[o.value^1].value=I.value):A(),s[o.value].value=y},{immediate:!0})};G.value===!0?J(a):a()}return()=>{const a=[];return n.value!==null&&a.push(m("div",{key:"filler",style:n.value})),s[0].value!==null&&a.push(B(0)),s[1].value!==null&&a.push(B(1)),a.push(m(K,{name:"q-transition--fade"},X)),m("div",{key:"main",class:w.value,style:g.value,role:"img","aria-label":e.alt},a)}}}),be={__name:"TextInput",props:{type:{type:String,default:"text"},label:{type:String,default:"text"},iconLeft:{type:String,default:""},rules:{type:Array,default:()=>[]}},setup(e){const l=e,r=t("");return(d,n)=>(T(),N(ve,{outlined:"","lazy-rules":"",modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=c=>r.value=c),type:l.type,label:l.label,rules:l.rules||[]},le({_:2},[e.iconLeft?{name:"prepend",fn:f(()=>[u(re,{name:e.iconLeft,class:"input-icon"},null,8,["name"])]),key:"0"}:void 0]),1032,["modelValue","type","label","rules"]))}},$=F(be,[["__scopeId","data-v-c5e501e1"]]),pe={class:"row justify-between login-container"},Ce={class:"forgot-password-container"},Ie={__name:"LoginPage",setup(e){const l=ce(),r=ne(),d=t(""),n=t(""),c=t(!1),b=t(!1),v=t(""),p=t(!1),C=i(()=>{const w=/.+@.+\..+/.test(d.value);return d.value.trim()===""?"Email is required":w?"":"Please enter a valid email address"}),I=i(()=>n.value.trim()===""?"Password is required":""),{t:S}=ye(),s=i(()=>l.screen.width),o=i(()=>s.value>=de.MD);async function h(){if(c.value=!!C.value,b.value=n.value.trim()==="",p.value=!0,!c.value&&!b.value)try{await r.push("/")}catch(w){v.value=w.message.replace(":br",""),p.value=!1}}function _(){console.log("Forgot password clicked")}return(w,g)=>(T(),oe("div",pe,[u(j,{class:ie(["login-card flex flex-center",{mobile:!o.value}])},{default:f(()=>[u(we,{class:"logo",src:"logo.png","spinner-color":"white",style:{"max-width":"115px"}}),u(ge,{class:"my-card bg-grey-1"},{default:f(()=>[V("form",{onSubmit:se(h,["prevent","stop"])},[u(me,{class:"login-inputs"},{default:f(()=>[u($,{modelValue:d.value,"onUpdate:modelValue":g[0]||(g[0]=k=>d.value=k),"icon-left":"mail",label:L(S)("email"),"error-message":C.value,error:c.value},null,8,["modelValue","label","error-message","error"]),u($,{modelValue:n.value,"onUpdate:modelValue":g[1]||(g[1]=k=>n.value=k),"icon-left":"lock",type:"password",label:L(S)("password"),"error-message":I.value,error:b.value},null,8,["modelValue","label","error-message","error"]),v.value?(T(),N(D,{key:0,class:"login-error-msg"},{default:f(()=>[E(R(v.value),1)]),_:1})):z("",!0)]),_:1}),u(fe,null,{default:f(()=>[u(ue,{color:"primary",type:"submit",class:"full-width",label:L(S)("sign_in"),loading:p.value},null,8,["label","loading"]),V("div",Ce,[u(D,{onClick:_,class:"forgot-password"},{default:f(()=>[E(R(L(S)("forgot_password")),1)]),_:1})])]),_:1})],32)]),_:1})]),_:1},8,["class"]),o.value?(T(),N(j,{key:0,class:"promo-container"},{default:f(()=>g[2]||(g[2]=[V("div",{class:"promo"},null,-1)])),_:1})):z("",!0)]))}},Ve=F(Ie,[["__scopeId","data-v-63f06fde"]]);export{Ve as default};
